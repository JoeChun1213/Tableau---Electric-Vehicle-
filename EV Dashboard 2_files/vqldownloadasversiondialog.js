/*! BEGIN DownloadAsVersionDialog */

(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqldownloadasversiondialog');var b=global.tab.DownloadAsVersionDialogComponent=ss.mkType(a,'tab.DownloadAsVersionDialogComponent',function(e){spiff.PureRenderComponent.call(this,e);},{$0:function(){return {title:tab.Strings.DownloadAsVersionDialogTitle,testId:'DownloadAsVersionDialog',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,showFooter:false,shouldAdjustPositionOnWindowResize:this.props.dialogShouldPositionOnWindowResize,dialogWidth:375,onCloseRequest:this.props.onDialogClose,zIndex:1000};},$6:function(){return {className:'tab-DownloadAsVersionDropdown',label:tab.Strings.DownloadAsVersionDropdownLabel,testId:'DownloadAsVersionMenu',onChange:this.props.versionDropdownMenuOnSelect,type:1,value:this.props.versionDropdownSelected,list:React.createElement(SharedWidgets.List,{items:this.props.versionDropdownListItems,selectedValue:this.props.versionDropdownSelected}),style:b.$1};},$1:function(){return {buttonType:2,handleClick:this.props.downloadButtonClicked,testId:'DownloadAsVersionDownload',children:tab.Strings.DownloadAsVersionDialogDownloadButton};},$5:function(e,f){for(var g=0;g<e.length;g++){var h=e[g];if(ss.equalsT(h.value,f)){return h.content.toString();}}return null;},$3:function(){return React.createElement(SharedWidgets.SingleSelectDropdown,this.$6(),this.$5(this.props.versionDropdownListItems,this.props.versionDropdownSelected));},$4:function(){var e={className:'tab-DownloadAsVersionWarning',id:'idVersionDialogWarning'};return spiff.DOMElements.div(e,tab.Strings.DownloadAsVersionDialogWarning);},$2:function(){var e={className:'tab-DownloadAsVersionHelpLink','aria-describedby':'idVersionDialogWarning',href:b.get_downloadAsVersionHelpUri(),target:'_blank',testId:'helpLink',children:tab.Strings.DownloadAsVersionDialogHelpLink};return React.createElement(SharedWidgets.TextLinkWidget,e);},render:function(){return React.createElement(SharedWidgets.DialogWidget,this.$0(),spiff.DOMElements.div({className:'tab-DownloadAsVersionContents'},this.$4(),this.$2(),this.$3(),spiff.DOMElements.div({className:'tab-DownloadAsVersionButtons'},React.createElement(SharedWidgets.ButtonWidget,this.$1()))));}},{get_downloadAsVersionHelpUri:function(){return tab.UriUtil.makeHelpUri('server-version-compatibility','web_author.htm');}});var c=global.tab.DownloadAsVersionDialogFactory=ss.mkType(a,'tab.DownloadAsVersionDialogFactory',function(){this.$0=null;},{showDownloadAsVersionDialog:function(e){if(ss.isValue(this.$0)){this.$0.dispose();}var f=new d(e);this.$0=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[d,b,Object])).call(null,[f]);this.$0.addToDom($(document.body));}});var d=global.tab.DownloadAsVersionDialogViewModel=ss.mkType(a,'tab.DownloadAsVersionDialogViewModel',function(e){this.$9='current';this.$8=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$8=e;},{createInitialProps:function(){return {dialogShouldPositionOnWindowResize:!tsConfig.is_mobile,onDialogClose:ss.mkdel(this,this.$6),versionDropdownMenuOnSelect:ss.mkdel(this,this.$7),versionDropdownListItems:this.$4(),downloadButtonClicked:ss.mkdel(this,function(){this.$3();})};},createUpdatedProps:function(){return {versionDropdownSelected:this.$9};},$4:function(){return [{content:tab.Strings.DownloadAsVersionDropdownDefaultLabel,value:'current'},{content:'Tableau 2021.3',value:'21.3'},{content:'Tableau 2021.2',value:'21.2'},{content:'Tableau 2021.1',value:'21.1'},{content:'Tableau 2020.4',value:'20.4'},{content:'Tableau 2020.3',value:'20.3'},{content:'Tableau 2020.2',value:'20.2'},{content:'Tableau 2020.1',value:'20.1'},{content:'Tableau 2019.4',value:'19.4'},{content:'Tableau 2019.3',value:'19.3'},{content:'Tableau 2019.2',value:'19.2'}];},$7:function(e){this.$9=e;this.incrementProps();},$3:function(){if(this.$9==='current'){tab.ToolbarServerCommands.downloadWorkbook(null,null);}else{tab.ToolbarServerCommands.downloadWorkbook(null,this.$9);}this.$6();},$5:function(){_.defer(ss.mkdel(this,this.dispose));},$6:function(){this.$5();if(!ss.staticEquals(this.$8,null)){this.$8();}}});ss.initClass(b,spiff.PureRenderComponent);ss.initClass(c,null,[tab.IDownloadAsVersionDialogModule]);ss.initClass(d,ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);(function(){b.$1={marginBottom:SharedWidgets.TabStyles.Spacing.MediumSpace+'px'};})();(function(){d.$0='current';})();})();// END DownloadAsVersionDialog
